"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+/";this.encode=function(t){var n,r;if("string"==typeof t)r="s",n=t.split("").map(function(t){return t.charCodeAt(0)});else{if("object"!=(void 0===t?"undefined":_typeof(t)))throw"unexpected data type: must be either string or object";r="o",n=JSON.stringify(t).split("").map(function(t){return t.charCodeAt(0)})}var e=n.length;n.length%2==1&&n.push(0);for(var o=this._createStat(n),i=Math.ceil(o.length/64-1);64-i+64*i<o.length;)i+=1;var u=this._alphabet(i),s=this._mkdict(o.map(function(t){return t[0]}),u),h=this._encode(n,s),f=this._packDict(o);return[r,this._nTo62(e),this._nTo62(i),f,h].join("/")},this.decode=function(t){var n=this._splitn(t,"/",5),r=n[0],e=this._nFrom62(n[1]),o=this._nFrom62(n[2]),i=n[3],u=n[4],s=this._alphabet(o),h=this._unpackDict(s,i);return this._decode(h,u,e,r)},this._mkdict=function(t,n){for(var r=new Object(null),e=Math.min(t.length,n.length),o=0;o<e;o++)r[t[o]]=n[o];return r},this._alphabet=function(n){for(var r=[],e=0;e<64-n;e++)r.push(t[e]);for(e=64-n;e<64;e++)for(var o=0;o<64;o++)r.push(t[e]+t[o]);return r},this._createStat=function(t){for(var n=new Object(null),r=0;r<t.length;r+=2)n[o=t[r]+","+t[r+1]]?n[o]=n[o]+1:n[o]=1;var e=[];for(var o in n)1,e.push([o,n[o]]);return e.sort(function(t,n){return t[1]<n[1]?1:-1}),e},this._packDict=function(t){var n=this,r=[];return t.map(function(t){return t[0].split(",").forEach(function(t){return r.push(n._nTo62(parseInt(t,10)))})}),r.join("+")},this._unpackDict=function(t,n){for(var r=new Object(null),e=n.split("+"),o=0;o<e.length;o+=2)r[t[o/2]]=this._nFrom62(e[o])+","+this._nFrom62(e[o+1]);return r},this._encode=function(t,n){for(var r="",e=0;e<t.length;e+=2){var o=t[e]+","+t[e+1];if(!n[o])throw"unexpected pair of ints (not in dict)"+o;r+=n[o]}return r},this._splitn=function(t,n,r){for(var e=[],o=t.indexOf(n),i=0;i<r-1;i++)o>-1&&(e.push(o),o=t.indexOf(n,o+1));if(0==e.length)return[];for(var u=[t.substr(0,e[0])],i=0;i<e.length;i++)i<e.length-1?u.push(t.substr(e[i]+n.length,e[i+1]-e[i]-1)):u.push(t.substr(e[i]+n.length));return u},this._nTo62=function(n){var r=[];if(0==n)return"0";for(;n>0;){var e=n%62;r.push(t[e]),n=Math.floor(n/62)}return r.reverse().join("")},this._nFrom62=function(n){for(var r=0,e=0;e<n.length;e++)r+=Math.pow(62,n.length-e-1)*t.indexOf(n[e]);return r},this._decode=function(t,n,r,e){for(var o=0,i=[];o<n.length;){s=null;if(t[n[o]]){s=t[n[o]];o+=1}else{s=t[n[o]+n[o+1]];o+=2}var u=s.split(",").map(function(t){return parseInt(t,10)});i.push(u[0]),i.push(u[1])}i.length>r&&i.pop();var s=i.map(function(t){return String.fromCharCode(t)}).join("");return"s"==e?s:"o"==e?JSON.parse(s):void 0}};"undefined"!=typeof module&&void 0!==module.exports?module.exports=new t:window.SmallPack=t}();